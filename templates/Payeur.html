{% extends "baseNew.html" %}
{% load static %}
{% block title %}Nouveau Payeur{% endblock %}
{% block content %}
    <div class="w-full h-full backprimer px-4 pb-4 flex flex-col">
        <!-- Add User Sidebar -->
        <div id="addSidebar"
             class="fixed right-0 top-0 bottom-0 w-2/5 backprimer shadow-lg transform
             translate-x-full transition-transform duration-300 z-50 ">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-lg font-semibold">Ajouter un Payeur</h3>
                <button id="closeSidebar" class="text-2xl textslate">&times;</button>
            </div>
            <!-- Add User Form -->
            <div class="p-4">

                <form id="userForm">
                    <div class="p-4" style="height: calc(100% - 10rem); overflow-y: auto;">
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <select id="distributeur" name="distributeur"
                                        class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    {% for worker in users_select %}
                                        <option value="{{ worker.id }}">{{ worker.designation }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div>
                                <input type="text" id="code" name="code" placeholder="Code"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="designation" name="designation" placeholder="Désignation"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <select id="ville" name="ville"
                                        class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    {% for ville in ville_list %}
                                        <option data-region="{{ ville.region }}" value="{{ ville.id }}">{{ ville.designation }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div>
                                <input type="text" id="adresse" name="adresse" placeholder="Adresse"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="telephone" name="telephone" placeholder="Téléphone"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="nif" name="nif" placeholder="NIF"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="nis" name="nis" placeholder="NIS"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="art" name="art" placeholder="ART"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="rc" name="rc" placeholder="RC"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-end py-8">
                        <button type="submit" class="bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-400">
                            Ajouter
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Edit User Sidebar -->
        <div id="editSidebar"
             class="fixed right-0 top-0 bottom-0 w-2/5 backprimer shadow-lg transform translate-x-full transition-transform duration-300 z-50"
             style="margin-top: -8px">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-lg font-semibold">Editer payeur: </h3>
                <button id="closeEditSidebar" class="text-2xl textslate">&times;</button>
            </div>
            <!-- Edit User Form -->

            <div class="p-4">
                <form id="edituserForm">
                    <div class="p-4" style="height: calc(100% - 10rem); overflow-y: auto;">

                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <select id="edit_distributeur" name="edit_distributeur"
                                        class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    {% for worker in users_select %}
                                        <option value="{{ worker.id }}">{{ worker.designation }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div>
                                <input type="text" id="edit_code" name="edit_code" placeholder="Code"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="edit_designation" name="edit_designation" placeholder="edit_Désignation"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="edit_telephone" name="edit_telephone" placeholder="Téléphone"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <select id="edit_ville" name="edit_ville"
                                        class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    {% for ville in ville_list %}
                                        <option data-region="{{ ville.region }}" value="{{ ville.id }}">{{ ville.designation }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div>
                                <input type="text" id="edit_adresse" name="edit_adresse" placeholder="Adresse"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="edit_nif" name="edit_nif" placeholder="NIF"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="edit_nis" name="edit_nis" placeholder="NIS"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="edit_art" name="edit_art" placeholder="ART"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>
                            <div>
                                <input type="text" id="edit_rc" name="edit_rc" placeholder="RC"
                                       class="mt-1 p-2 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                            </div>

                            <div class="flex items-center gap-4">
                                <label>Active</label>
                                <div class="checkbox-wrapper-6">
                                    <input class="tgl tgl-light" id="edit_is_active" type="checkbox"/>
                                    <label class="tgl-btn" for="edit_is_active"></label>
                                </div>
                            </div>

                            <div class="flex items-center gap-4">
                                <label>Valide</label>
                                <div class="checkbox-wrapper-6">
                                    <input class="tgl tgl-light" id="edit_draft" type="checkbox"/>
                                    <label class="tgl-btn" for="edit_draft"></label>
                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="flex justify-end py-8">
                        <button type="submit" class="bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-400">
                            Modifier
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- View User Sidebar -->
        <div id="viewSidebar"
             class="fixed right-0 top-0 bottom-0 w-2/5 backprimer shadow-lg transform translate-x-full transition-transform duration-300 z-50"
             style="margin-top: -8px">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-lg font-semibold">Editer payeur: </h3>
                <button id="closeViewSidebar" class="text-2xl textslate">&times;</button>
            </div>
            <!-- Edit User Form -->

            <div class="p-4">
                    <div class="p-4" style="height: calc(100% - 10rem); overflow-y: auto;">

                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <div id="view_distributeur" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>
                            <div>
                                <div id="view_code" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>
                            <div>
                                <div id="view_designation" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>
                            <div>
                                <div id="view_telephone" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>
                            <div>
                                <div id="view_ville" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>
                            <div>
                                <div id="view_adresse" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>
                            <div>
                                <div id="view_nif" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>
                            <div>
                                <div id="view_nis" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>
                            <div>
                                <div id="view_art" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>
                            <div>
                                <div id="view_rc" class="mt-1 p-2 block w-full bg-white h-10 shadow-sm sm:text-sm border-gray-300 rounded-md"></div>
                            </div>

                            <div class="flex items-center gap-4">
                                <label>Active</label>
                                <div class="checkbox-wrapper-6">
                                    <input class="tgl tgl-light" id="view_is_active" type="checkbox"/>
                                    <label class="tgl-btn" for="view_is_active"></label>
                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="flex justify-end py-8">
                    </div>
            </div>
        </div>

        <!-- Filter Modal -->
        <div id="filterModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40 flex items-center justify-center"
             style="margin-top: -16px">
            <div class="bg-white w-1/3 rounded-lg shadow-lg">
                <div class="flex justify-between items-center p-4 border-b">
                    <h3 class="text-lg font-semibold">Filtres</h3>
                    <button id="closeFilterModal" class="text-gray-500 hover:text-gray-700">&times;</button>
                </div>
                <div class="p-4">
                    <!-- Filter Form -->
                </div>
            </div>
        </div>

        <div class="flex justify-between items-center pt-4 mb-4" style="margin-top: -8px">
            <div class="flex gap-2">
                <div>
                    <a href="{% url 'distributeur' %}"
                       class="block px-4 py-2 hoverprimer rounded">Distributeur</a>
                </div>
                <div><!-- accomptes -->
                    <a href="{% url 'payeur' %}" class="block px-4 py-2 hoverprimer rounded">Payeur</a>
                </div>
                <div><!-- accomptes -->
                    <a href="{% url 'payeurdraft' %}" class="block px-4 py-2 actualprimer rounded">Nouveau Payeur</a>
                </div>
            </div>
            <div>
                <button id="filterButton" class="bg-gray-800 text-white py-2 px-4 rounded-lg hover:bg-gray-700">Filtrer
                </button>


                {% if 37 in listeauth %}
                    <button id="addButton" class="btn capitalize backprimer px-4 py-2 border border-slate-300 text-gray-400
                        hover:bg-blue-900 hover:border-slate-400 rounded-md">Ajouter
                    </button>
                {% else %}
                    <button class="btn capitalize bg-gray-500 text-white px-4 py-2 border rounded-md cursor-not-allowed">Ajouter
                    </button>
                {% endif %}

            </div>
        </div>
        <hr/>


        <!-- User List Headers -->
        <div class="pt-4">
            <div class="flex items-center justify-between text-gray-600 font-semibold">
                <div class="w-1/4 capitalize">Désignation</div>
                <div class="w-1/4 capitalize">Distributeur</div>
                <div class="w-1/6 capitalize">Code</div>
                <div class="w-1/6 capitalize">Ville</div>
                <div class="w-1/6 capitalize">Téléphone</div>
                <div class="w-1/6 capitalize">Date d'ajout</div>
                <div class="w-1/6 capitalize pl-12">état</div>
                <div class="w-1/6 capitalize text-center">Actions</div>
            </div>
        </div>

        <!-- User List -->
        <div class="flex-grow shadow-md rounded-b-lg backslateprime p-2 overflow-y-auto">
            {% for elem in dist_list %}
                <div class="flex items-center justify-between p-2 backslateslite flex-none mb-2 ">
                    <div class="textslate w-1/4">{{ elem.designation }}</div>
                    <div class="textslate w-1/4">{{ elem.distributeur }}</div>
                    <div class="textslate w-1/6">{{ elem.code }}</div>
                    <div class="textslate w-1/6">{{ elem.ville }}</div>
                    <div class="textslate w-1/6">{{ elem.telephone }}</div>
                    <div class="textslate w-1/6">{{ elem.date_ajout|date:'d-m-Y' }}</div>
                    <div class="w-1/6 text-center">
                    <span class="bg-gray-500 text-white text-xs px-2 py-1 rounded">{% if elem.bloque %}
                        Bloqué {% else %} Actif {% endif %}</span>
                    </div>
                    <div class="flex space-x-2 w-1/6 justify-end">
                        {% if 40 in listeauth %}
                            <button id="viewButton" class="viewButton bg-blue-500 text-white p-2 rounded">
                                <i class="fas fa-search"
                                   onclick="newdatauserview({{ elem.id }}, {{ elem.distributeur.id }}, '{{ elem.code }}', '{{ elem.designation }}', {{ elem.ville.id }}
                                           , '{{ elem.telephone }}', '{{ elem.adresse }}', '{{ elem.nif }}', '{{ elem.nis }}', '{{ elem.art }}',
                                            '{{ elem.rc }}', '{{ elem.active }}'
                                           )">
                                </i>
                            </button>
                        {% else %}
                            <button class="cursor-not-allowed bg-gray-500 text-white p-2 rounded">
                                <i class="fas fa-search"></i>
                            </button>
                        {% endif %}

                        {% if 38 in listeauth %}
                            <button id="editButton" class="editButton bg-blue-500 text-white p-2 rounded">
                                <i class="fas fa-pencil-alt"
                                   onclick="newdatauser({{ elem.id }}, {{ elem.distributeur.id }}, '{{ elem.code }}', '{{ elem.designation }}', {{ elem.ville.id }}
                                           , '{{ elem.telephone }}', '{{ elem.adresse }}', '{{ elem.nif }}', '{{ elem.nis }}', '{{ elem.art }}',
                                            '{{ elem.rc }}', '{{ elem.active }}'
                                           )">
                                </i>
                            </button>
                        {% else %}
                            <button class="cursor-not-allowed bg-gray-500 text-white p-2 rounded">
                                <i class="fas fa-pencil-alt"></i>
                            </button>
                        {% endif %}

                        {% if 39 in listeauth %}
                            <button class="bg-red-500 text-white p-2 rounded delete-btn" data-identifiant="{{ elem.id }}"><i class="fas fa-trash"></i></button>
                        {% else %}
                            <button class="cursor-not-allowed bg-gray-500 text-white p-2 rounded"><i class="fas fa-trash"></i></button>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>


    <div id="deleteModal" class="fixed inset-0 flex items-center justify-center hidden bg-gray-800 bg-opacity-50">
        <div class="bg-white p-4 rounded-lg w-96">
            <h2 class="text-lg font-semibold text-gray-700 mb-4">Confirm Delete</h2>
            <p>Are you sure you want to delete this item?</p>
            <div class="mt-6 flex justify-end space-x-4">
                <button id="cancelDelete" class="px-4 py-2 bg-gray-300 rounded">Cancel</button>
                <button id="confirmDelete" class="px-4 py-2 bg-red-500 text-white rounded">Delete</button>
            </div>
        </div>
    </div>

    <script>
        edit_elem = 0;

        $telephone = $('#telephone');
        $distributeur = $('#distributeur');
        $code = $('#code');
        $designation = $('#designation');
        $ville = $('#ville');
        $adresse = $('#adresse');
        $nif = $('#nif');
        $nis = $('#nis');
        $art = $('#art');
        $rc = $('#rc');


        // Toggle the sidebar
        $('#addButton').on('click', function () {
            $('#addSidebar').toggleClass('translate-x-full');
        });

        // Toggle the sidebar edit
        $('.editButton').on('click', function () {
            $('#editSidebar').toggleClass('translate-x-full');
        });

        // Close the sidebar
        $('#closeSidebar').on('click', function () {
            $('#addSidebar').addClass('translate-x-full');
        });

        // Toggle the sidebar edit
        $('.viewButton').on('click', function () {
            $('#viewSidebar').toggleClass('translate-x-full');
        });


        // Close the sidebar
        $('#closeEditSidebar').on('click', function () {
            $('#editSidebar').addClass('translate-x-full');
        });

        // Show the filter modal
        $('#filterButton').on('click', function () {
            $('#filterModal').removeClass('hidden');
        });

        // Close the filter modal
        $('#closeFilterModal').on('click', function () {
            $('#filterModal').addClass('hidden');
        });
        $('#closeViewSidebar').on('click', function () {
            $('#viewSidebar').addClass('hidden');
        });

        // Close sidebar when clicking outside
        $(document).on('click', function (e) {
            if (!$(e.target).closest('#addButton, #addSidebar').length) {
                $('#addSidebar').addClass('translate-x-full');
            }
        });

        // Close sidebar when clicking outside
        $(document).on('click', function (e) {
            if (!$(e.target).closest('#editButton, #editSidebar').length) {
                $('#editSidebar').addClass('translate-x-full');
            }
        });

        // Close filter modal when clicking outside
        $(document).on('click', function (e) {
            if (!$(e.target).closest('#filterButton, #filterModal').length) {
                $('#filterModal').addClass('hidden');
            }
        });



        function getRandomInt(max) {
            return Math.floor(Math.random() * max);
        }



        function newdatauserview(id, distributeur, code, designation, ville, telephone, adresse, nif, nis, art, rc, active) {

            edit_elem = id;
            $("#view_code").html(code);
            $("#view_designation").html(designation);
            $("#view_adresse").html(adresse);
            $("#view_telephone").html(telephone);
            $("#view_ville").html(ville);
            $("#view_nif").html(nif);
            $("#view_nis").html(nis);
            $("#view_art").html(art);
            $("#view_rc").html(rc);

            if (active === "True") {
                $('#view_is_active').prop('checked', true);
            }else{
                $('#view_is_active').prop('checked', false);
            }



        }


        function newdatauser(id, distributeur, code, designation, ville, telephone, adresse, nif, nis, art, rc, active) {

            edit_elem = id;
            $("#edit_code").val(code);
            $("#edit_designation").val(designation);
            $("#edit_adresse").val(adresse);
            $("#edit_telephone").val(telephone);
            $("#edit_ville").val(ville);
            $("#edit_nif").val(nif);
            $("#edit_nis").val(nis);
            $("#edit_art").val(art);
            $("#edit_rc").val(rc);

            if (active === "True") {
                $('#edit_is_active').prop('checked', true);
            }else{
                $('#edit_is_active').prop('checked', false);
            }



        }

        $('#userForm').on('submit', function (e) {
            e.preventDefault(); // Prevent the default form submission

            var form = new FormData();

            form.append("code", $code.val());
            form.append("designation", $designation.val());
            form.append("ville", $ville.val());
            form.append("adresse", $adresse.val());
            form.append("telephone", $telephone.val());
            form.append("distributeur", $distributeur.val());
            form.append("nif", $nif.val());
            form.append("nis", $nis.val());
            form.append("art", $art.val());
            form.append("rc", $rc.val());
            form.append("draft", true);


            for (var pair of form.entries()) {
                console.log(pair[0] + ": " + pair[1]);
            }

            var settings = {
                "url": "/api/payeur/",
                "method": "POST",
                "timeout": 0,
                "headers": {
                    "X-CSRFToken": $('input[name= csrfmiddlewaretoken]').val(),  // Assuming you have CSRF token in your template context
                },
                "processData": false,
                "contentType": false,
                "data": form
            };

            $.ajax(settings)
                .done(function (response) {
                    console.log(response);
                    window.location.href = "/distributeur/payeurdraft";
                })
                .fail(function (jqXHR, textStatus, errorThrown) {
                    // Log the entire jqXHR object to see all details
                    console.log('jqXHR:', jqXHR);

                    // Log the status text
                    console.log('Status:', textStatus); alert(textStatus)

                    // Log the error thrown
                    console.log('Error Thrown:', errorThrown);

                    // Log the response text, which might contain detailed error messages
                    console.log('Response Text:', jqXHR.responseText);

                    // Optionally, parse the responseText as JSON if it's in JSON format
                    try {
                        var responseJSON = JSON.parse(jqXHR.responseText);
                        console.log('Response JSON:', responseJSON);
                    } catch (e) {
                        console.error('Failed to parse response as JSON:', e);
                    }

                });
        });

        $('#edituserForm').on('submit', function (e) {
    e.preventDefault(); // Prevent the default form submission

    // Create a JavaScript object to hold the form data
    var formData = {
        "code": $('#edit_code').val(),
        "designation": $('#edit_designation').val(),
        "ville": $('#edit_ville').val(),
        "adresse": $('#edit_adresse').val(),
        "telephone": $('#edit_telephone').val(),
        "distributeur": $('#edit_distributeur').val(),
        "nif": $('#edit_nif').val(),
        "nis": $('#edit_nis').val(),
        "art": $('#edit_art').val(),
        "rc": $('#edit_rc').val(),
        "active": $('#edit_is_active').prop('checked'),
        "draft": !$('#edit_draft').prop('checked')
    };

    // Log the formData object to see the data
    console.log('FormData:', formData);

    var settings = {
        "url": "/api/payeur/" + edit_elem + '/',  // Update the URL as per your requirement
        "method": "PUT",
        "timeout": 0,
        "headers": {
            "X-CSRFToken": $('input[name=csrfmiddlewaretoken]').val(),  // Assuming you have CSRF token in your template context
            "Content-Type": "application/json"  // Set content type to application/json
        },
        "processData": false,
        "data": JSON.stringify(formData)  // Convert JavaScript object to JSON string
    };

    $.ajax(settings)
        .done(function (response) {
            console.log(response);
            window.location.href = "/distributeur/payeurdraft";
        })
        .fail(function (jqXHR, textStatus, errorThrown) {
            // Log the entire jqXHR object to see all details
            console.log('jqXHR:', jqXHR);

            // Log the status text
            console.log('Status:', textStatus); alert(textStatus)

            // Log the error thrown
            console.log('Error Thrown:', errorThrown);

            // Log the response text, which might contain detailed error messages
            console.log('Response Text:', jqXHR.responseText);

            // Optionally, parse the responseText as JSON if it's in JSON format
            try {
                var responseJSON = JSON.parse(jqXHR.responseText);
                console.log('Response JSON:', responseJSON);
            } catch (e) {
                console.error('Failed to parse response as JSON:', e);
            }
        });
});



        // Open modal when delete button is clicked
        $('.delete-btn').on('click', function () {
            currentDeleteId =  $(this).data('identifiant');
            console.log(currentDeleteId);
            $('#deleteModal').removeClass('hidden');
        });

        // Close modal when cancel is clicked
        $('#cancelDelete').on('click', function () {
            $('#deleteModal').addClass('hidden');
            currentDeleteId = null;
        });

        // Confirm delete action
        $('#confirmDelete').on('click', function () {
            if (currentDeleteId) {
                // Perform the delete action, e.g., make an AJAX call or redirect
                console.log('Deleting item with ID:', currentDeleteId);

                var settings = {
                    "url": "/api/payeur/" + currentDeleteId + "/",
                    "method": "DELETE",
                    "timeout": 0,
                    "headers": {
                        "X-CSRFToken": $('input[name=csrfmiddlewaretoken]').val(),
                    },
                };

                $.ajax(settings).done(function (response) {
                    console.log(response);
                    $('#deleteModal').addClass('hidden');
                    window.location.href = "/distributeur/payeurdraft";
                });


            }
        });




    </script>
{% endblock %}
